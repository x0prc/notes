## Usage
- HDD/SSD Controllers
- Microprocessors
## Instruction Set Architecture
- Abstract model of computer that defines how the CPU is controlled by the software.
### RV32I
- RISC V 32 bit Integer ISA
- 40 instructions, 32 GPRs
### RV32E
- RISC V 32 bit Integer Embedded ISA
- 16 GPRs, Program Counter Register
### RV64I
- All RV32I instructions, adds 15 new ones.
### RV128I
- 128 bits wide.
- 32 GPRs + Program Counter Register
- Not ratified yet!

## Hart - Hardware Thread
- Used for Simultaneous Multithreading

![[Pasted image 20250814213553.png]]

## Data Type Sizes
- “char” = 1 byte
- “short” = 2 bytes (called a “half-word” in RISC-V)
- “int” = 4 bytes (called a “word” in RISC-V)
- “long” = 4 bytes / 32-bits on 32-bit architectures and 8 bytes / 64-bits for 64-bit architectures.
- “long long” = 8 bytes (called a “double-word” in RISC-V)

## Little and Big Endian
- Simply LSB -> Little Endian
- Likewise, MSB -> Big Endian
- Only applies to memory, not registers.
- Also only bytes, not bits.
- ![[Pasted image 20250814214052.png]]

## Architecture - Registers
- XLEN - Bit Length for registers in ISA
- RV32I / RV32E, XLEN = 32
- RV64I, XLEN = 64
- RV128I, XLEN = 128

## App Binary Interface
- Defines how DS is accessed in machine code.
- x0 = zero
- x1 = ra (Return Address)
- x2 = sp (Stack Pointer)
- x3 = gp (Global Pointer)
- x4 = tp (Thread Pointer)
	- and so on...
## NOP (RV32I / 64I)
- No Operation
- Conventions : 
	- rd = Destination GPR
	- rs = Source GPR 
	- rs1 = Source GPR 1
	- rs2 = Source GPR 2
- immN = N-bit signed immediate
- uimmN = unsigned N-bit immediate
- nzimmN = non-zero N-bit immediate
- UimmN = upper N-bit immediate

## ADDI
`addi rd, rs, imm12`
- rd = rs + (sign-extended) imm12
![[Pasted image 20250815215208.png]]

## LI
- Load Immediate to Register
- `li rd`, `imm12`
## RET
- Returns the value.
- Actual encoding is through `e.jr`, which is Compressed Jump to Register.
## JALR
- Jump and Link Register
- pc = rs + signed imm12
- rd = address after jalr instruction. (aka pc+4)

## Stack Architecture
- LIFO (Last In First Out)
- ![[Pasted image 20250816183423.png]]
- Stuff on stack : 
	- Local vars
	- Return adds
	- Registers
	- Dynamically allocated memory
	- Arguments passed between the functions
	- 